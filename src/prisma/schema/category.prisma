// category.prisma

model Category {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  name              String   @unique
  slug              String   @unique
  measurementSystem String[]

  parentSlug String?
  parent     Category? @relation("CategoryHierarchy", fields: [parentSlug], references: [slug], onDelete: NoAction, onUpdate: NoAction)

  children Category[] @relation("CategoryHierarchy")

  @@map("categories")
}
